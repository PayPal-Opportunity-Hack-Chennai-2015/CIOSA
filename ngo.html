<!DOCTYPE html>
<html>
<head>
	
	  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<script>

var url = "http://lm-maa-26500421.paypalcorp.com:9200/sahayak/ngodetails/";
var NGO_ID = "";

function parseURLParams(url) {
    var queryStart = url.indexOf("?") + 1,
        queryEnd   = url.indexOf("#") + 1 || url.length + 1,
        query = url.slice(queryStart, queryEnd - 1),
        pairs = query.replace(/\+/g, " ").split("&"),
        parms = {}, i, n, v, nv;

    if (query === url || query === "") {
        return;
    }

    for (i = 0; i < pairs.length; i++) {
        nv = pairs[i].split("=");
        n = decodeURIComponent(nv[0]);
        v = decodeURIComponent(nv[1]);

        if (!parms.hasOwnProperty(n)) {
            parms[n] = [];
        }

        parms[n].push(nv.length === 2 ? v : null);
    }
    return parms;
}

var xmlhttp = new XMLHttpRequest();
xmlhttp.onreadystatechange = function() {
    if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
        var JsonObj = JSON.parse(xmlhttp.responseText);
		console.log(JsonObj);
        myFunction(JsonObj);
    }
};

function init(){

var href = window.location.href; 
var params = parseURLParams(href);
var ngo_id = params["ngo_id"];
url = url + ngo_id;
xmlhttp.open("GET", url, true);
xmlhttp.send();

}

var NGO_INFO;
function myFunction(JsonObj) {
		NGO_INFO = JsonObj;
		console.log(NGO_INFO);
		document.getElementById("poc").innerHTML = JsonObj._source.poc;
		document.getElementById("name").innerHTML = JsonObj._source.name;
		document.getElementById("phone").innerHTML = JsonObj._source.phone;
		document.getElementById("website").innerHTML = JsonObj._source.website;
		document.getElementById("website").href = 'http://' + JsonObj._source.website;
		document.getElementById("email").innerHTML = JsonObj._source.email;
		document.getElementById("desc").innerHTML = JsonObj._source.desc;
		document.getElementById("address").innerHTML = JsonObj._source.address.line1 + "<br />" + JsonObj._source.address.line2 + "<br />" + JsonObj._source.address.area + "<br />" + JsonObj._source.address.state + "<br />";
}


</script>
</head>
<body onload="init()">
<div id="myModal" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Modal Header</h4>
      </div>
      <div class="modal-body">
        <p>Some text in the modal.</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>

  </div>
</div>
    <!-- Navigation -->
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="index.html">Sahayak</a>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    <li>
                        <a href="#myModal">About</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

<div class="container" style="margin-top:80px">
    <div class="row">
        <div class="col-lg-6">
			    <div class="panel panel-default">
                    <div id="name" class="text-center header"></div>
                    <div class="panel-body">
						<h4 id="desc" class="text-center"></h4><br>
						<h4 style="display:inline-block"><b>Contact:</b></h4>&nbsp&nbsp<h4 id="poc" style="display:inline-block"></h4><br>
						<h4 style="display:inline-block"><b>Phone:</b></h4>&nbsp&nbsp<h4 id="phone" style="display:inline-block"></h4><br>
						<h4 style="display:inline-block"><b>Email:</b></h4>&nbsp&nbsp<h4 id="email" style="display:inline-block"></h4><br>
						<h4 style="display:inline-block"><b>Website:</b></h4>&nbsp&nbsp<h4 style="display:inline-block"><a id="website" href=""></a></h4><br>
                    </div>
                </div>
        </div>
        <div class="col-lg-6">
            <div>
                <div class="panel panel-default">
                    <div class="text-center header">Our Office</div>
                    <div class="panel-body text-center">
                        <h4>Address</h4>
                        <div id="address">
                        </div>
                        <hr />
                        <div id="map1" class="map">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<script src="https://maps.google.com/maps/api/js?sensor=false"></script>

<script type="text/javascript">
    jQuery(function ($) {
        function init_map1() {
            var myLocation = new google.maps.LatLng(38.885516, -77.09327200000001);
            var mapOptions = {
                center: myLocation,
                zoom: 16
            };
            var marker = new google.maps.Marker({
                position: myLocation,
                title: "NGO Location"
            });
            var map = new google.maps.Map(document.getElementById("map1"),
                mapOptions);
            marker.setMap(map);
        }
        init_map1();
    });
</script>

<style>
    .map {
        min-width: 300px;
        min-height: 300px;
        width: 100%;
        height: 100%;
    }

    .header {
        background-color: #F5F5F5;
        color: #36A0FF;
        height: 70px;
        font-size: 27px;
        padding: 10px;
    }
</style>


</body>
</html>
